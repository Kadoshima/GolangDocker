利用パッケージ
JWT : golang-jwt/jwt (https://github.com/golang-jwt/jwt)

中部大学では学科間の購入を深めるために、以下のようなプロジェクトが進行している。その一環として自由に書き込みができる掲示板アプリを作成する。

プロジェクト : 
中部大学で進む学生の学力向上に向けたプロジェクト(PDF)
https://drive.google.com/file/d/14lBC3PIAs16_IP9kmMKwEzsawloZCvrv/view?usp=sharing

# なんのために

- 問題 : 中部大学では、他学部・学科の交流が少なく、多くの学部があるマンモス学校としての強みを出し切れていないと考える。
- 解決に向けて : この問題を解決するために、中部大学の学生専用の掲示板を作成する。ここでは、学部や学科に問わす、興味のある分野や共同で研究したい内容をシェア、仲間を募ることができる。

# 問題解決に向けた独自機能

1. 掲示板はUserが自由に立てられる。その中で、学部・学科を指定可能。該当の学部生はその掲示板が自動的に見れる状態になる。
2. 偏った学部生が集まってしまったときの為に、Helpボタンを用意する。Helpボタンを押した後に学科を指定することでその学科の生徒に協調表示され、アドバイスをもらいやすくできる。
3. アドバイスやサポートに対価を支払うことができる。

## usecase
1. **ユーザー管理**
    - **アカウント新規作成**
        - メール認証を含むセキュアな登録プロセス。
    - **ユーザー情報確認・更新**
        - プロフィール編集機能（プロフィール写真、自己紹介、所属学部・学科等）。
    - **認証機能**
        - JWTを使用したセキュアなログイン・ログアウト機能。
        - パスワードリセット機能。
2. **投稿機能**
    - **ブログ投稿の作成**
        - テキスト、画像、リンクの添付が可能。
        - 学部・学科タグの付与。
        - カテゴリ選択（例：研究プロジェクト、サークル募集、経験の共有等）。
        - ユーザーはマークダウンを意識せずに、h1やh2、太字などを使用して読みやすい記事を作成。
    - **ブログ投稿の編集**
        - 投稿内容の訂正機能（削除や大幅な修正は不可）。
    - **ブログ投稿の表示**
        - タグやカテゴリによるフィルタリング。
        - ユーザーごとの投稿一覧表示。
    - **フォーラム（Forum）作成機能**
        - ブログ記事内のhタグ（例：h1タグ）を利用してフォーラムを作成可能。
        - 例：「情報工学科はプログラミングはやりません」(h1タグ) に対してフォーラムを立て、反論や議論を行う。
    - **コメント機能**
        - ブログ記事に直接コメント可能（0~N）。
        - フォーラム内でのコメント（0~N）。
        - コメントはフォーラムや投稿に対する意見として機能し、一番小さな単位。
3. **フォーラム管理（掲示板管理）**
    - **フォーラムの作成・管理**
        - ユーザーが自由に新規フォーラムを立てられる。
        - 学部・学科の指定が可能。
        - 指定学部・学科の学生に自動表示。
    - **フィルタリング機能**
        - タグや学部・学科、カテゴリ別に投稿を絞り込み。
    - **通報機能**
        - 不適切な投稿を報告できる機能。
    - **通知機能**
        - 新しい投稿やコメント、通報対応の通知。
4. **情報共有機能**
    - **ブログ形式の投稿**
        - ZennやQiitaのような形式での情報発信。
        - 専門知識や経験を体系的に共有。
    - **フォーラムの連携**
        - ブログ記事内でフォーラムを作成し、議論を展開。
5. **サポート機能**
    - **Helpボタン**
        - 偏った学部生が集まった際に、他学科の生徒に協調表示。
        - アドバイスやサポートを受けやすくする仕組み。
    - **AI監視機能**
        - 危険な募集や不適切な投稿を検知するAIシステム。
6. **経済機能**
    - **サポート支払い**
        - アドバイスやサポートに対してユーザーが対価を支払える仕組み（例：ポイントシステム、クレジットカード対応）。
    - **プレミアム機能**
        - 広告非表示、特定のタグの優先表示などの有料オプション。
    - **サークル・プロジェクト募集**
        - メンバー募集投稿の有料掲載オプション（例：月額300円、初期期間割引）。
7. **検索機能**
    - **投稿検索**
        - キーワード、タグ、カテゴリによる高度な検索機能。
    - **ユーザー検索**
        - 学部・学科、興味分野でのユーザー検索。
8. **情報共有**
    - **経験の共有**
        - インターンシップや就職活動に関する経験を共有。
        - ブログ機能としての活用と直接的なインターン連携。
    - **マークダウンの非意識化**
        - ユーザーはマークダウンを意識せずに、見やすい記事を作成・閲覧可能。
    - **データモデルの関係性**
        - **投稿（T）とフォーラム（F）**: 1対多（T: 0~N, F: 0~N）
        - **投稿（T）とコメント（C）**: 1対多（T: 0~N, C: 0~N）
        - **フォーラム（F）とコメント（C）**: 1対多（F: 0~N, C: 0~N）
        - コメント（C）は必ず1つの投稿（T）またはフォーラム（F）に属する。
9. **コメント機能（主要機能の詳細）**
- 機能詳細
    - **コメントの作成（Create）**
        - **対象**: 投稿（T）およびフォーラム（F）
        - **内容**: テキストのみ（将来的に画像やリンクの添付も検討）
        - **インターフェース**:
            - 投稿またはフォーラムの下部にコメント入力フィールドを配置。
            - 「コメントを追加」ボタンで送信。
        - **バリデーション**:
            - 空白コメントの防止。
            - 最大文字数制限（例：500文字）。
    - **コメントの表示（Read）**
        - **対象**: 投稿（T）およびフォーラム（F）
        - **表示方法**:
            - 投稿またはフォーラムの下部に関連するコメントを時系列で表示。
            - コメントはネスト形式で表示（必要に応じて返信機能の追加）。
        - **表示内容**:
            - コメント作成者のプロフィール写真、名前、投稿日時、コメント内容。
            - 編集・削除ボタン（権限に応じて表示）。
    - **コメントの編集（Update）**
- **対象**: 自分が作成したコメント（C）
    - **機能**:
        - 編集ボタンをクリックすると、コメント内容を編集可能なフォームに切り替え。
            - 編集後、「保存」ボタンで変更を反映。
            - 一定期間（例：24時間以内）のみ編集を許可。
    - **バリデーション**:
        - 編集後のコメントも空白や過度な長さを防止。
- **コメントの削除（Delete）**
    - **対象**: 自分が作成したコメント（C）および管理者による不適切なコメント
    - **機能**:
        - 削除ボタンをクリックすると、確認ダイアログを表示。
        - 確認後、コメントを削除。
    - **権限**:
        - ユーザー自身が作成したコメントのみ削除可能。
        - 管理者は不適切なコメントを削除可能。


# 導入
1. リポジトリをクローンする
2. cdコマンドでGolangDockerのリポジトリに移動する
3. 以下のコマンドでdocker composeを起動する

   ```docker compose up -d --build```

5. docker ps で起動している事を確認する

# Golandを使ったdockerの自動再起動について
プロジェクトファイルのGolangDocker/backendの中に `hotreload.sh` というファイルがある
このファイルを使い、以下の手順を実行することで「Goファイルが保存された時に自動実行する」という約束を作成することができる。
https://aquatic-squid-130.notion.site/Docker-Goland-4c0295dee24a4d119f84db0cd17ae0bc?pvs=4

# ER図 (2024年9月23日)
![Untitled diagram-2024-11-14-003859](https://github.com/user-attachments/assets/f151fa4e-76e2-42c5-89f4-eb079b9df7ac)
